import{r as d,c as R,j as V,a as o,b as e,f as c,v as b,E,z as H,i as S,u,g as h,t as a,F as T,D as A,o as l}from"./vendor-BmZR9K5F.js";import{u as $}from"./useFirestore-Bf5FwK2U.js";import{w as q,x as I,y as P}from"./firebase-w6XYyoFK.js";import{_ as j}from"./index-csEBr71G.js";import"./collections-BIJkFGz0.js";import"./mapbox-Dy2hBtBs.js";const z={class:"resources"},G={class:"container"},J={class:"row"},Q={class:"col s12 m8"},K={class:"input-field"},O={class:"col s12 m4"},W={class:"input-field"},X={key:0,class:"center-align"},Y={key:1,class:"card-panel red lighten-4 red-text text-darken-2"},Z={key:2,class:"row"},ee={class:"col s12"},se={class:"row"},te={class:"card featured-card"},ie={key:0,class:"card-image"},ae=["src","alt"],oe={class:"card-title"},le={class:"card-content"},ne={key:0,class:"card-title"},ce={class:"resource-meta"},de={class:"chip"},re={class:"grey-text"},ve={class:"card-action"},ue=["onClick"],pe=["onClick"],me={class:"material-icons"},he={class:"row"},_e={class:"col s12"},ge={key:0,class:"center-align"},fe={class:"row"},ye={class:"card resource-card"},ke={key:0,class:"card-image"},xe=["src","alt"],we={class:"card-content"},Ce={class:"card-title"},Le={class:"resource-meta"},Me={class:"chip"},Re={class:"grey-text"},be={class:"grey-text"},Se={class:"card-action"},Te=["onClick"],Ae=["onClick"],Ue={class:"material-icons"},De={key:3,class:"center-align"},Fe=["disabled"],Ne={id:"resource-modal",class:"modal modal-fixed-footer"},Be={key:0,class:"modal-content"},Ve={class:"resource-meta"},Ee={class:"chip"},He={class:"grey-text"},$e={class:"grey-text"},qe=["innerHTML"],Ie={class:"modal-footer"},Pe={class:"material-icons left"},je={__name:"Resources",setup(ze){const{getAllResources:U,loading:_,error:y}=$(),r=d([]),p=d(""),m=d(""),n=d(null),k=d(!0),g=d(12),x=R(()=>r.value.filter(i=>i.isFeatured).slice(0,3)),w=R(()=>{let i=r.value.filter(s=>!s.isFeatured);if(p.value){const s=p.value.toLowerCase();i=i.filter(t=>t.title.toLowerCase().includes(s)||t.description.toLowerCase().includes(s)||t.tags.some(v=>v.toLowerCase().includes(s)))}return m.value&&(i=i.filter(s=>s.category===m.value)),i}),C=async()=>{try{const i=[q("isPublished","==",!0),I("createdAt","desc"),P(g.value)],s=await U(i);r.value=s.map(t=>({...t,isLiked:!1})),k.value=s.length===g.value}catch(i){console.error("Error loading resources:",i)}},D=()=>{},F=()=>{},L=i=>{n.value=i,i.views++,M.Modal.getInstance(document.getElementById("resource-modal")).open()},f=i=>{i.isLiked=!i.isLiked,i.likes+=i.isLiked?1:-1},N=()=>{g.value+=12,C()};V(async()=>{M.FormSelect.init(document.querySelectorAll("select")),M.Modal.init(document.querySelectorAll(".modal")),await C(),r.value.length===0&&(r.value=B())});const B=()=>[{id:"1",title:"Understanding Anxiety: A Beginner's Guide",description:"Learn about anxiety symptoms, causes, and effective coping strategies.",content:"<p>Anxiety is a normal human emotion that everyone experiences from time to time...</p>",category:"anxiety",tags:["anxiety","coping","mental health"],authorName:"Dr. Sarah Johnson",isPublished:!0,isFeatured:!0,readTime:8,views:1247,likes:89,imageUrl:"https://via.placeholder.com/400x200?text=Anxiety+Guide",isLiked:!1},{id:"2",title:"Mindfulness Techniques for Daily Stress",description:"Simple mindfulness exercises you can practice anywhere to reduce stress.",content:"<p>Mindfulness is the practice of being present in the moment...</p>",category:"stress",tags:["mindfulness","stress","meditation"],authorName:"Dr. Michael Chen",isPublished:!0,isFeatured:!0,readTime:6,views:892,likes:67,imageUrl:"https://via.placeholder.com/400x200?text=Mindfulness",isLiked:!1},{id:"3",title:"Building Healthy Relationships",description:"Tips for creating and maintaining positive relationships in your life.",content:"<p>Healthy relationships are fundamental to our wellbeing...</p>",category:"relationships",tags:["relationships","communication","social"],authorName:"Dr. Emily Rodriguez",isPublished:!0,isFeatured:!1,readTime:10,views:634,likes:45,imageUrl:"",isLiked:!1}];return(i,s)=>(l(),o("div",z,[e("div",G,[s[12]||(s[12]=e("div",{class:"row"},[e("div",{class:"col s12"},[e("h4",null,"Mental Health Resources"),e("p",{class:"grey-text"},"Discover articles, tools, and guides to support your mental health journey.")])],-1)),e("div",J,[e("div",Q,[e("div",K,[s[3]||(s[3]=e("i",{class:"material-icons prefix"},"search",-1)),b(e("input",{id:"search",type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),onInput:D},null,544),[[E,p.value]]),s[4]||(s[4]=e("label",{for:"search"},"Search resources...",-1))])]),e("div",O,[e("div",W,[b(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),onChange:F},[...s[5]||(s[5]=[S('<option value="" data-v-2c66ee2c>All Categories</option><option value="anxiety" data-v-2c66ee2c>Anxiety</option><option value="depression" data-v-2c66ee2c>Depression</option><option value="stress" data-v-2c66ee2c>Stress Management</option><option value="relationships" data-v-2c66ee2c>Relationships</option><option value="self-care" data-v-2c66ee2c>Self Care</option><option value="coping" data-v-2c66ee2c>Coping Strategies</option>',7)])],544),[[H,m.value]]),s[6]||(s[6]=e("label",null,"Category",-1))])])]),u(_)?(l(),o("div",X,[...s[7]||(s[7]=[S('<div class="preloader-wrapper active" data-v-2c66ee2c><div class="spinner-layer spinner-teal-only" data-v-2c66ee2c><div class="circle-clipper left" data-v-2c66ee2c><div class="circle" data-v-2c66ee2c></div></div><div class="gap-patch" data-v-2c66ee2c><div class="circle" data-v-2c66ee2c></div></div><div class="circle-clipper right" data-v-2c66ee2c><div class="circle" data-v-2c66ee2c></div></div></div></div><p data-v-2c66ee2c>Loading resources...</p>',2)])])):c("",!0),u(y)?(l(),o("div",Y,[s[8]||(s[8]=e("i",{class:"material-icons left"},"error",-1)),h(" "+a(u(y)),1)])):c("",!0),x.value.length>0?(l(),o("div",Z,[e("div",ee,[s[9]||(s[9]=e("h5",null,"Featured Resources",-1)),e("div",se,[(l(!0),o(T,null,A(x.value,t=>(l(),o("div",{key:t.id,class:"col s12 m6 l4"},[e("div",te,[t.imageUrl?(l(),o("div",ie,[e("img",{src:t.imageUrl,alt:t.title},null,8,ae),e("span",oe,a(t.title),1)])):c("",!0),e("div",le,[t.imageUrl?c("",!0):(l(),o("span",ne,a(t.title),1)),e("p",null,a(t.description),1),e("div",ce,[e("span",de,a(t.category),1),e("span",re,a(t.readTime)+" min read",1)])]),e("div",ve,[e("a",{onClick:v=>L(t),class:"teal-text"},"Read More",8,ue),e("a",{onClick:v=>f(t),class:"grey-text right"},[e("i",me,a(t.isLiked?"favorite":"favorite_border"),1),h(" "+a(t.likes),1)],8,pe)])])]))),128))])])])):c("",!0),e("div",he,[e("div",_e,[s[11]||(s[11]=e("h5",null,"All Resources",-1)),w.value.length===0&&!u(_)?(l(),o("div",ge,[...s[10]||(s[10]=[e("i",{class:"material-icons large grey-text"},"search_off",-1),e("p",{class:"grey-text"},"No resources found matching your criteria.",-1)])])):c("",!0),e("div",fe,[(l(!0),o(T,null,A(w.value,t=>(l(),o("div",{key:t.id,class:"col s12 m6 l4"},[e("div",ye,[t.imageUrl?(l(),o("div",ke,[e("img",{src:t.imageUrl,alt:t.title},null,8,xe)])):c("",!0),e("div",we,[e("span",Ce,a(t.title),1),e("p",null,a(t.description),1),e("div",Le,[e("span",Me,a(t.category),1),e("span",Re,a(t.readTime)+" min read",1),e("span",be,a(t.views)+" views",1)])]),e("div",Se,[e("a",{onClick:v=>L(t),class:"teal-text"},"Read More",8,Te),e("a",{onClick:v=>f(t),class:"grey-text right"},[e("i",Ue,a(t.isLiked?"favorite":"favorite_border"),1),h(" "+a(t.likes),1)],8,Ae)])])]))),128))])])]),k.value?(l(),o("div",De,[e("button",{onClick:N,class:"btn waves-effect waves-light teal",disabled:u(_)}," Load More Resources ",8,Fe)])):c("",!0)]),e("div",Ne,[n.value?(l(),o("div",Be,[e("h4",null,a(n.value.title),1),e("div",Ve,[e("span",Ee,a(n.value.category),1),e("span",He,a(n.value.readTime)+" min read",1),e("span",$e,"By "+a(n.value.authorName),1)]),s[13]||(s[13]=e("div",{class:"divider",style:{margin:"1rem 0"}},null,-1)),e("div",{innerHTML:n.value.content},null,8,qe)])):c("",!0),e("div",Ie,[s[15]||(s[15]=e("a",{href:"#!",class:"modal-close waves-effect waves-teal btn-flat"},"Close",-1)),e("a",{onClick:s[2]||(s[2]=t=>f(n.value)),class:"waves-effect waves-light btn teal"},[e("i",Pe,a(n.value?.isLiked?"favorite":"favorite_border"),1),s[14]||(s[14]=h(" Like ",-1))])])])]))}},Xe=j(je,[["__scopeId","data-v-2c66ee2c"]]);export{Xe as default};
