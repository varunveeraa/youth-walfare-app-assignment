import"./firebase-w6XYyoFK.js";import"./index-csEBr71G.js";import{c as w,a as h,u as y,C as c,g as o,r as R,b as p,d as A,e as g,f as D}from"./collections-BIJkFGz0.js";import{r as s,c as I}from"./vendor-BmZR9K5F.js";const C=()=>{const t=s(!1),e=s(null),v=()=>{e.value=null},i=async(a,n)=>{try{return t.value=!0,e.value=null,await w(a,n)}catch(u){throw e.value=u.message,u}finally{t.value=!1}},f=async(a,n,u)=>{try{return t.value=!0,e.value=null,await y(a,n,u),!0}catch(m){throw e.value=m.message,m}finally{t.value=!1}},d=async(a,n)=>{try{return t.value=!0,e.value=null,await D(a,n),!0}catch(u){throw e.value=u.message,u}finally{t.value=!1}},l=async(a,n)=>{try{return t.value=!0,e.value=null,await p(a,n)}catch(u){throw e.value=u.message,u}finally{t.value=!1}},r=async(a,n=[])=>{try{return t.value=!0,e.value=null,await o(a,n)}catch(u){throw e.value=u.message,u}finally{t.value=!1}};return{loading:I(()=>t.value),error:I(()=>e.value),clearError:v,create:i,update:f,remove:d,get:l,getAll:r}},N=()=>{const t=s(!1),e=s(null);return{loading:t,error:e,getProfile:async r=>{try{t.value=!0,e.value=null;const a=await o(g,[where("userId","==",r)]);return a.length>0?a[0]:null}catch(a){throw e.value=a.message,a}finally{t.value=!1}},createProfile:async r=>{try{return t.value=!0,e.value=null,await w(g,{...r,createdAt:new Date,updatedAt:new Date})}catch(a){throw e.value=a.message,a}finally{t.value=!1}},getAllProfiles:async(r=[])=>{try{return t.value=!0,e.value=null,await o(g,r)}catch(a){throw e.value=a.message,a}finally{t.value=!1}},updateProfile:async(r,a)=>{try{t.value=!0,e.value=null;const n=await o(g,[where("userId","==",r)]);if(n.length===0)throw new Error("Profile not found");const u=n[0].id;return await y(c.COUNSELLOR_PROFILES,u,{...a,updatedAt:new Date}),!0}catch(n){throw e.value=n.message,n}finally{t.value=!1}},deleteProfile:async r=>{try{t.value=!0,e.value=null;const a=await o(g,[where("userId","==",r)]);if(a.length===0)throw new Error("Profile not found");const n=a[0].id;return await D(c.COUNSELLOR_PROFILES,n),!0}catch(a){throw e.value=a.message,a}finally{t.value=!1}}}},L=()=>{const t=s(!1),e=s(null),v=async(r=[])=>{try{return t.value=!0,e.value=null,await o(h,r)}catch(a){throw e.value=a.message,a}finally{t.value=!1}},i=async r=>{try{return t.value=!0,e.value=null,await l(c.APPOINTMENTS,r)}catch(a){throw e.value=a.message,a}finally{t.value=!1}},f=async(r,a)=>{try{return t.value=!0,e.value=null,await y(c.APPOINTMENTS,r,{...a,updatedAt:new Date}),!0}catch(n){throw e.value=n.message,n}finally{t.value=!1}},d=async r=>{try{return t.value=!0,e.value=null,await w(h,{...r,createdAt:new Date,updatedAt:new Date})}catch(a){throw e.value=a.message,a}finally{t.value=!1}},l=async r=>await i(r);return{loading:t,error:e,getAllAppointments:v,getAppointment:i,getDocument:l,updateAppointment:f,createAppointment:d}},T=()=>{const t=s(!1),e=s(null);return{loading:t,error:e,getAllRatings:async(l=[])=>{try{return t.value=!0,e.value=null,await o(R,l)}catch(r){throw e.value=r.message,r}finally{t.value=!1}},getRating:async l=>{try{return t.value=!0,e.value=null,await p(c.RATINGS,l)}catch(r){throw e.value=r.message,r}finally{t.value=!1}},createRating:async l=>{try{return t.value=!0,e.value=null,await w(R,{...l,createdAt:new Date,updatedAt:new Date})}catch(r){throw e.value=r.message,r}finally{t.value=!1}},updateRating:async(l,r)=>{try{return t.value=!0,e.value=null,await y(c.RATINGS,l,{...r,updatedAt:new Date}),!0}catch(a){throw e.value=a.message,a}finally{t.value=!1}}}},F=()=>{const t=s(!1),e=s(null);return{loading:t,error:e,getAllResources:async(l=[])=>{try{return t.value=!0,e.value=null,await o(A,l)}catch(r){throw e.value=r.message,r}finally{t.value=!1}},getResource:async l=>{try{return t.value=!0,e.value=null,await p(c.RESOURCES,l)}catch(r){throw e.value=r.message,r}finally{t.value=!1}},createResource:async l=>{try{return t.value=!0,e.value=null,await w(A,{...l,createdAt:new Date,updatedAt:new Date})}catch(r){throw e.value=r.message,r}finally{t.value=!1}},updateResource:async(l,r)=>{try{return t.value=!0,e.value=null,await y(c.RESOURCES,l,{...r,updatedAt:new Date}),!0}catch(a){throw e.value=a.message,a}finally{t.value=!1}}}};export{L as a,N as b,C as c,T as d,F as u};
