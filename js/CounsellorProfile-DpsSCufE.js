import{r as V,q as A,c as W,C as j,j as K,a as n,b as e,i as C,u as Q,A as G,g as p,v as d,f as m,E as v,y,t as o,z as $,F as _,D as N,x as b,n as J,o as r}from"./vendor-BmZR9K5F.js";import{_ as X,u as Z}from"./index-csEBr71G.js";import{b as ee}from"./useFirestore-Bf5FwK2U.js";import{a as S,v as se}from"./validation-BV3KGR2z.js";import"./firebase-w6XYyoFK.js";import"./mapbox-Dy2hBtBs.js";import"./collections-BIJkFGz0.js";const R=g=>({userId:g.uid,displayName:g.displayName,email:g.email,bio:"",specializations:[],qualifications:[],experience:0,licenseNumber:g.licenseNumber||"",licenseState:"",isVerified:!1,isActive:!1,profilePicture:"",averageRating:0,totalRatings:0,hourlyRate:0,sessionTypes:["video"],languages:["English"],createdAt:new Date,updatedAt:new Date}),ie={class:"counsellor-profile"},te={class:"container"},le={key:0,class:"row"},ae={class:"row"},oe={class:"col s12"},ne={class:"card"},re={class:"card-content"},de={class:"row"},ce={class:"col s12 m4 center-align"},ue={class:"profile-picture-section"},pe=["src"],me={class:"file-field input-field"},ve={class:"btn blue"},fe={class:"col s12 m8"},ye={class:"row"},be={class:"input-field col s12 m6"},ge={key:0,class:"helper-text error-text"},he={class:"input-field col s12 m6"},xe={key:0,class:"helper-text error-text"},_e={class:"input-field col s12"},Ne={class:"helper-text"},we={key:0,class:"helper-text error-text"},Ae={class:"row"},Se={class:"col s12"},ke={class:"card"},Te={class:"card-content"},Pe={class:"row"},Ve={class:"input-field col s12 m6"},Me={key:0,class:"helper-text error-text"},Ce={class:"input-field col s12 m6"},Re=["value"],Ie={key:0,class:"helper-text error-text"},qe={class:"input-field col s12 m6"},De={key:0,class:"helper-text error-text"},Ee={class:"input-field col s12 m6"},ze={key:0,class:"helper-text error-text"},Ue={class:"row"},Fe={class:"col s12"},Le={class:"qualification-list"},Oe={class:"row valign-wrapper"},Ye={class:"col s10"},He={class:"grey-text"},Be={class:"col s2 right-align"},We=["onClick"],je={class:"add-qualification-form"},Ke={class:"row"},Qe={class:"input-field col s12 m4"},Ge={class:"input-field col s12 m4"},$e={class:"input-field col s12 m2"},Je=["max"],Xe={class:"col s12 m2"},Ze=["disabled"],es={class:"row"},ss={class:"col s12"},is={class:"card"},ts={class:"card-content"},ls={class:"row"},as={class:"col s12"},os={class:"specialization-chips"},ns=["value"],rs={class:"chip-label"},ds={key:0,class:"helper-text error-text"},cs={class:"row"},us={class:"col s12"},ps={class:"session-types"},ms={key:0,class:"helper-text error-text"},vs={class:"row"},fs={class:"col s12"},ys={class:"language-chips"},bs=["value"],gs={class:"chip-label"},hs={class:"row"},xs={class:"col s12"},_s={class:"card"},Ns={class:"card-content"},ws={class:"row"},As={class:"col s12 m6"},Ss={class:"switch"},ks={class:"grey-text"},Ts={class:"col s12 m6"},Ps={class:"verification-status"},Vs={class:"material-icons left"},Ms={class:"grey-text small"},Cs={class:"row"},Rs={class:"col s12 center-align"},Is=["disabled"],qs={__name:"CounsellorProfile",setup(g){const{user:u}=Z(),{getProfile:I,createProfile:q,updateProfile:D,loading:k}=ee(),x=V(!1),h=V(!1),i=A({displayName:"",email:"",bio:"",licenseNumber:"",licenseState:"",experience:0,hourlyRate:100,specializations:[],qualifications:[],sessionTypes:["video"],languages:["English"],isActive:!0,isVerified:!1,profilePicture:""}),c=A({title:"",institution:"",year:new Date().getFullYear()}),l=A({displayName:null,email:null,bio:null,licenseNumber:null,licenseState:null,experience:null,hourlyRate:null,specializations:null,sessionTypes:null}),E=["Anxiety Disorders","Depression","Trauma & PTSD","Relationship Issues","Addiction & Substance Abuse","Eating Disorders","ADHD","Autism Spectrum","Grief & Loss","Family Therapy","Couples Therapy","Teen & Adolescent","LGBTQ+ Issues","Career Counseling","Stress Management"],z=["English","Spanish","French","German","Italian","Portuguese","Chinese (Mandarin)","Japanese","Korean","Arabic","Hindi","Russian"],U=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],T=W(()=>c.title.trim()&&c.institution.trim()&&c.year),P=async()=>{if(u.value?.uid)try{const a=await I(u.value.uid);if(a)h.value=!0,Object.assign(i,{displayName:a.displayName||u.value.displayName||"",email:a.email||u.value.email||"",bio:a.bio||"",licenseNumber:a.licenseNumber||"",licenseState:a.licenseState||"",experience:a.experience||0,hourlyRate:a.hourlyRate||100,specializations:a.specializations||[],qualifications:a.qualifications||[],sessionTypes:a.sessionTypes||["video"],languages:a.languages||["English"],isActive:a.isActive!==void 0?a.isActive:!0,isVerified:a.isVerified||!1,profilePicture:a.profilePicture||""});else{const s=R(u.value);Object.assign(i,{...s,displayName:u.value.displayName||"",email:u.value.email||"",hourlyRate:100,sessionTypes:["video"],languages:["English"],isActive:!0}),h.value=!1}}catch{const s=R(u.value);Object.assign(i,{...s,displayName:u.value.displayName||"",email:u.value.email||"",hourlyRate:100,sessionTypes:["video"],languages:["English"],isActive:!0}),h.value=!1}},F=()=>(Object.keys(l).forEach(a=>{l[a]=null}),l.displayName=S(i.displayName,"Full name"),l.email=se(i.email),l.licenseNumber=S(i.licenseNumber,"License number"),l.licenseState=S(i.licenseState,"License state"),(i.experience<0||i.experience>50)&&(l.experience="Experience must be between 0 and 50 years"),(i.hourlyRate<50||i.hourlyRate>500)&&(l.hourlyRate="Hourly rate must be between $50 and $500"),i.specializations.length<2&&(l.specializations="Please select at least 2 specializations"),i.sessionTypes.length===0&&(l.sessionTypes="Please select at least one session type"),i.bio.length<50&&(l.bio="Bio must be at least 50 characters long"),!Object.values(l).some(a=>a!==null)),L=async()=>{if(!F()){M.toast({html:"Please fix the errors before saving",classes:"red"});return}x.value=!0;try{const a={...i,userId:u.value.uid,updatedAt:new Date};h.value?(await D(u.value.uid,a),M.toast({html:"Profile updated successfully!",classes:"green"})):(a.createdAt=new Date,await q(a),h.value=!0,M.toast({html:"Profile created successfully!",classes:"green"}))}catch(a){M.toast({html:"Error saving profile: "+a.message,classes:"red"})}finally{x.value=!1}},O=()=>{T.value&&(i.qualifications.push({title:c.title.trim(),institution:c.institution.trim(),year:c.year}),c.title="",c.institution="",c.year=new Date().getFullYear())},Y=a=>{i.qualifications.splice(a,1)},H=a=>{const s=a.target.files[0];if(!s)return;const t=new FileReader;t.onload=f=>{i.profilePicture=f.target.result},t.readAsDataURL(s)},B=async()=>{await P(),Object.keys(l).forEach(a=>{l[a]=null}),w()},w=()=>{typeof M<"u"&&J(()=>{setTimeout(()=>{M.FormSelect.init(document.querySelectorAll("select")),M.textareaAutoResize(document.getElementById("bio")),M.updateTextFields(),document.querySelectorAll('input[type="text"], input[type="email"], input[type="number"], textarea').forEach(a=>{a.value&&a.dispatchEvent(new Event("change"))})},200)})};return j(k,a=>{a||w()}),K(async()=>{await P(),w()}),(a,s)=>(r(),n("div",ie,[e("div",te,[s[59]||(s[59]=C('<div class="row" data-v-56707e13><div class="col s12" data-v-56707e13><div class="card-panel blue lighten-5" data-v-56707e13><h4 class="blue-text" data-v-56707e13>Professional Profile</h4><p class="grey-text text-darken-1" data-v-56707e13> Manage your professional information, credentials, and service details. </p></div></div></div>',1)),Q(k)?(r(),n("div",le,[...s[16]||(s[16]=[C('<div class="col s12 center-align" data-v-56707e13><div class="preloader-wrapper big active" data-v-56707e13><div class="spinner-layer spinner-blue-only" data-v-56707e13><div class="circle-clipper left" data-v-56707e13><div class="circle" data-v-56707e13></div></div><div class="gap-patch" data-v-56707e13><div class="circle" data-v-56707e13></div></div><div class="circle-clipper right" data-v-56707e13><div class="circle" data-v-56707e13></div></div></div></div><p data-v-56707e13>Loading your profile...</p></div>',1)])])):(r(),n("form",{key:1,onSubmit:G(L,["prevent"]),class:"profile-form"},[e("div",ae,[e("div",oe,[e("div",ne,[e("div",re,[s[25]||(s[25]=e("span",{class:"card-title"},[e("i",{class:"material-icons left"},"person"),p(" Basic Information ")],-1)),e("div",de,[e("div",ce,[e("div",ue,[e("img",{src:i.profilePicture||"/api/placeholder/200/200",alt:"Profile Picture",class:"circle responsive-img profile-pic"},null,8,pe),e("div",me,[e("div",ve,[s[17]||(s[17]=e("span",null,"Upload Photo",-1)),e("input",{type:"file",onChange:H,accept:"image/*"},null,32)]),s[18]||(s[18]=e("div",{class:"file-path-wrapper"},[e("input",{class:"file-path validate",type:"text",placeholder:"Profile picture"})],-1))])])]),e("div",fe,[e("div",ye,[e("div",be,[s[19]||(s[19]=e("i",{class:"material-icons prefix"},"account_circle",-1)),d(e("input",{id:"displayName",type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>i.displayName=t),class:y({invalid:l.displayName}),required:""},null,2),[[v,i.displayName]]),s[20]||(s[20]=e("label",{for:"displayName"},"Full Name",-1)),l.displayName?(r(),n("span",ge,o(l.displayName),1)):m("",!0)]),e("div",he,[s[21]||(s[21]=e("i",{class:"material-icons prefix"},"email",-1)),d(e("input",{id:"email",type:"email","onUpdate:modelValue":s[1]||(s[1]=t=>i.email=t),class:y({invalid:l.email}),required:""},null,2),[[v,i.email]]),s[22]||(s[22]=e("label",{for:"email"},"Email Address",-1)),l.email?(r(),n("span",xe,o(l.email),1)):m("",!0)]),e("div",_e,[s[23]||(s[23]=e("i",{class:"material-icons prefix"},"description",-1)),d(e("textarea",{id:"bio",class:y(["materialize-textarea",{invalid:l.bio}]),"onUpdate:modelValue":s[2]||(s[2]=t=>i.bio=t),maxlength:"500"},null,2),[[v,i.bio]]),s[24]||(s[24]=e("label",{for:"bio"},"Professional Bio",-1)),e("span",Ne,o((i.bio||"").length)+"/500 characters ",1),l.bio?(r(),n("span",we,o(l.bio),1)):m("",!0)])])])])])])])]),e("div",Ae,[e("div",Se,[e("div",ke,[e("div",Te,[s[42]||(s[42]=e("span",{class:"card-title"},[e("i",{class:"material-icons left"},"verified_user"),p(" Professional Credentials ")],-1)),e("div",Pe,[e("div",Ve,[s[26]||(s[26]=e("i",{class:"material-icons prefix"},"badge",-1)),d(e("input",{id:"licenseNumber",type:"text","onUpdate:modelValue":s[3]||(s[3]=t=>i.licenseNumber=t),class:y({invalid:l.licenseNumber}),required:""},null,2),[[v,i.licenseNumber]]),s[27]||(s[27]=e("label",{for:"licenseNumber"},"License Number",-1)),l.licenseNumber?(r(),n("span",Me,o(l.licenseNumber),1)):m("",!0)]),e("div",Ce,[s[29]||(s[29]=e("i",{class:"material-icons prefix"},"location_on",-1)),d(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>i.licenseState=t),class:y({invalid:l.licenseState}),required:""},[s[28]||(s[28]=e("option",{value:"",disabled:""},"Choose your state",-1)),(r(),n(_,null,N(U,t=>e("option",{key:t.code,value:t.code},o(t.name),9,Re)),64))],2),[[$,i.licenseState]]),s[30]||(s[30]=e("label",null,"License State",-1)),l.licenseState?(r(),n("span",Ie,o(l.licenseState),1)):m("",!0)]),e("div",qe,[s[31]||(s[31]=e("i",{class:"material-icons prefix"},"work",-1)),d(e("input",{id:"experience",type:"number","onUpdate:modelValue":s[5]||(s[5]=t=>i.experience=t),class:y({invalid:l.experience}),min:"0",max:"50",required:""},null,2),[[v,i.experience,void 0,{number:!0}]]),s[32]||(s[32]=e("label",{for:"experience"},"Years of Experience",-1)),l.experience?(r(),n("span",De,o(l.experience),1)):m("",!0)]),e("div",Ee,[s[33]||(s[33]=e("i",{class:"material-icons prefix"},"attach_money",-1)),d(e("input",{id:"hourlyRate",type:"number","onUpdate:modelValue":s[6]||(s[6]=t=>i.hourlyRate=t),class:y({invalid:l.hourlyRate}),min:"50",max:"500",step:"5",required:""},null,2),[[v,i.hourlyRate,void 0,{number:!0}]]),s[34]||(s[34]=e("label",{for:"hourlyRate"},"Hourly Rate ($)",-1)),l.hourlyRate?(r(),n("span",ze,o(l.hourlyRate),1)):m("",!0)])]),e("div",Ue,[e("div",Fe,[s[41]||(s[41]=e("h6",null,"Qualifications & Certifications",-1)),e("div",Le,[(r(!0),n(_,null,N(i.qualifications,(t,f)=>(r(),n("div",{key:f,class:"qualification-item card-panel grey lighten-4"},[e("div",Oe,[e("div",Ye,[e("strong",null,o(t.title),1),s[35]||(s[35]=e("br",null,null,-1)),e("span",He,o(t.institution)+" ("+o(t.year)+")",1)]),e("div",Be,[e("button",{type:"button",onClick:Ds=>Y(f),class:"btn-small red"},[...s[36]||(s[36]=[e("i",{class:"material-icons"},"delete",-1)])],8,We)])])]))),128))]),e("div",je,[e("div",Ke,[e("div",Qe,[d(e("input",{id:"qualTitle",type:"text","onUpdate:modelValue":s[7]||(s[7]=t=>c.title=t),placeholder:"e.g., Master's in Psychology"},null,512),[[v,c.title]]),s[37]||(s[37]=e("label",{for:"qualTitle"},"Qualification Title",-1))]),e("div",Ge,[d(e("input",{id:"qualInstitution",type:"text","onUpdate:modelValue":s[8]||(s[8]=t=>c.institution=t),placeholder:"e.g., University of California"},null,512),[[v,c.institution]]),s[38]||(s[38]=e("label",{for:"qualInstitution"},"Institution",-1))]),e("div",$e,[d(e("input",{id:"qualYear",type:"number","onUpdate:modelValue":s[9]||(s[9]=t=>c.year=t),min:1950,max:new Date().getFullYear(),placeholder:"2020"},null,8,Je),[[v,c.year,void 0,{number:!0}]]),s[39]||(s[39]=e("label",{for:"qualYear"},"Year",-1))]),e("div",Xe,[e("button",{type:"button",onClick:O,class:"btn blue",disabled:!T.value},[...s[40]||(s[40]=[e("i",{class:"material-icons"},"add",-1)])],8,Ze)])])])])])])])])]),e("div",es,[e("div",ss,[e("div",is,[e("div",ts,[s[51]||(s[51]=e("span",{class:"card-title"},[e("i",{class:"material-icons left"},"psychology"),p(" Specializations & Services ")],-1)),e("div",ls,[e("div",as,[s[43]||(s[43]=e("h6",null,"Areas of Specialization",-1)),s[44]||(s[44]=e("p",{class:"grey-text"},"Select the areas you specialize in (choose at least 2)",-1)),e("div",os,[(r(),n(_,null,N(E,t=>e("div",{key:t,class:"chip-container"},[e("label",null,[d(e("input",{type:"checkbox",value:t,"onUpdate:modelValue":s[10]||(s[10]=f=>i.specializations=f)},null,8,ns),[[b,i.specializations]]),e("span",rs,o(t),1)])])),64))]),l.specializations?(r(),n("span",ds,o(l.specializations),1)):m("",!0)])]),e("div",cs,[e("div",us,[s[48]||(s[48]=e("h6",null,"Session Types Offered",-1)),s[49]||(s[49]=e("p",{class:"grey-text"},"Select the types of sessions you provide",-1)),e("div",ps,[e("label",null,[d(e("input",{type:"checkbox",value:"video","onUpdate:modelValue":s[11]||(s[11]=t=>i.sessionTypes=t)},null,512),[[b,i.sessionTypes]]),s[45]||(s[45]=e("span",null,[e("i",{class:"material-icons left"},"videocam"),p(" Video Sessions ")],-1))]),e("label",null,[d(e("input",{type:"checkbox",value:"audio","onUpdate:modelValue":s[12]||(s[12]=t=>i.sessionTypes=t)},null,512),[[b,i.sessionTypes]]),s[46]||(s[46]=e("span",null,[e("i",{class:"material-icons left"},"phone"),p(" Audio/Phone Sessions ")],-1))]),e("label",null,[d(e("input",{type:"checkbox",value:"chat","onUpdate:modelValue":s[13]||(s[13]=t=>i.sessionTypes=t)},null,512),[[b,i.sessionTypes]]),s[47]||(s[47]=e("span",null,[e("i",{class:"material-icons left"},"chat"),p(" Text/Chat Sessions ")],-1))])]),l.sessionTypes?(r(),n("span",ms,o(l.sessionTypes),1)):m("",!0)])]),e("div",vs,[e("div",fs,[s[50]||(s[50]=e("h6",null,"Languages Spoken",-1)),e("div",ys,[(r(),n(_,null,N(z,t=>e("div",{key:t,class:"chip-container"},[e("label",null,[d(e("input",{type:"checkbox",value:t,"onUpdate:modelValue":s[14]||(s[14]=f=>i.languages=f)},null,8,bs),[[b,i.languages]]),e("span",gs,o(t),1)])])),64))])])])])])])]),e("div",hs,[e("div",xs,[e("div",_s,[e("div",Ns,[s[56]||(s[56]=e("span",{class:"card-title"},[e("i",{class:"material-icons left"},"toggle_on"),p(" Profile Status ")],-1)),e("div",ws,[e("div",As,[e("div",Ss,[e("label",null,[s[52]||(s[52]=p(" Inactive ",-1)),d(e("input",{type:"checkbox","onUpdate:modelValue":s[15]||(s[15]=t=>i.isActive=t)},null,512),[[b,i.isActive]]),s[53]||(s[53]=e("span",{class:"lever"},null,-1)),s[54]||(s[54]=p(" Active ",-1))])]),e("p",ks,o(i.isActive?"Your profile is visible to clients":"Your profile is hidden from clients"),1)]),e("div",Ts,[e("div",Ps,[s[55]||(s[55]=e("h6",null,"Verification Status",-1)),e("div",{class:y(["chip",i.isVerified?"green white-text":"orange white-text"])},[e("i",Vs,o(i.isVerified?"verified":"pending"),1),p(" "+o(i.isVerified?"Verified":"Pending Verification"),1)],2),e("p",Ms,o(i.isVerified?"Your credentials have been verified by our team.":"Your credentials are being reviewed by our team."),1)])])])])])])]),e("div",Cs,[e("div",Rs,[e("button",{type:"submit",class:"btn-large blue waves-effect waves-light",disabled:x.value},[s[57]||(s[57]=e("i",{class:"material-icons left"},"save",-1)),p(" "+o(x.value?"Saving...":"Save Profile"),1)],8,Is),e("button",{type:"button",onClick:B,class:"btn-large grey waves-effect waves-light",style:{"margin-left":"1rem"}},[...s[58]||(s[58]=[e("i",{class:"material-icons left"},"refresh",-1),p(" Reset Changes ",-1)])])])])],32))])]))}},Hs=X(qs,[["__scopeId","data-v-56707e13"]]);export{Hs as default};
